<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      前端学习 图片轮播期 &middot; Steve Yang
    
  </title>

  <!-- CSS -->
  <!-- <link rel="stylesheet" href="/public/css/syntax.css"> -->
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="/public/css/pygments.css">
  <link rel="stylesheet" href="/public/css/font-awesome.min.css">
  <!-- <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700|PT+Sans:400"> -->

  <!-- Icons -->
  <!-- <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/img/apple-touch-icon-144-precomposed.png"> -->
  <link rel="shortcut icon" href="/public/img/yhm.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- livereload test -->
  <!--<script>document.write('<script src="http://' + (location.host || 'localhost').split(':')[0] + ':35729/livereload.js?snipver=1"></' + 'script>')</script>-->

  <!-- audioplayer -->
  <script src="/public/js/jquery-1.11.1.js"></script>
  <script src="/public/js/audioplayer/amazingaudioplayer.js"></script>
  <link rel="stylesheet" type="text/css" href="/public/css/audioplayer/initaudioplayer-1.css">



</head>


  <body class="">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="sidebar-logo">
      <a href="/"><img src="/public/img/yhm.jpg"></a>
    </div>
    <p>Thoughts and writings by Steve Yang.</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/"><i class="fa fa-home fa-fw"></i>&nbsp 主页·&nbspHome</a>
    <a class="sidebar-nav-item" href="/archive/"><i class="fa fa-file-text-o fa-fw"></i>&nbsp 归档·&nbspArchive</a>
    <a class="sidebar-nav-item" href="/category/"><i class="fa fa-book fa-fw"></i>&nbsp 分类·&nbspCategory</a>
    <a class="sidebar-nav-item" href="/tag/"><i class="fa fa-tags fa-fw"></i>&nbsp 标签·&nbspTag</a>
    <!--<a class="sidebar-nav-item" href="/works/">works</a>-->
    <a class="sidebar-nav-item" href="/about/"><i class="fa fa-hand-o-right fa-fw"></i>&nbsp 关于·&nbspAbout</a>
    <span class="sidebar-nav-item"><i class="fa fa-info-circle">&nbsp&nbsp  </i>Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2015. All rights reserved.
    </p>
  </div>
</div>



    

    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    

      <div class="container content">
      
      <a href="/">
        <svg id="mustache" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                 viewBox="0 0 79.5 45.7" enable-background="new 0 0 79.5 45.7" xml:space="preserve">
                  <g transform="translate(0,-952.36217)" opacity="0.95">
                    <path id="path2987" fill="#010101" d="M28.2,971.4c-10,0.5-19.1,13.3-28.2,2.1c0,15.1,23.7,30.5,39.8,16.3
                    c16,14.1,39.8-1.3,39.8-16.3c-12.5,15.4-25-14.4-39.8,4.5C35.8,972.7,31.9,971.2,28.2,971.4z"/>
                  </g>
        </svg>
      </a>
     
<h2 class="post-name"></h2>
<div class="post">
  <div class="post-heading inside">
    <img src="/public/img/SooHu.jpg">
    <h1 class="post-title">
      <a class="post-title-blog" href="">
        前端学习 图片轮播期
      </a>
    </h1>
      <p class="post-info">
        
          转载SooHu
        
      </p>
      <span class="post-info"><i class="fa fa-calendar"></i>&nbsp2014/12/25  </span>
      <span class="post-info"><i class="fa fa-book"></i>&nbsp<a href="/category/index.html#学习笔记">学习笔记</a></span>
      <span class="post-info"><i class="fa fa-tags"></i>&nbsp<a href="/tag/index.html#js">js</a></span> 
      <span class="post-info">&nbsp<a href="/tag/index.html#css">css</a></span>
      <span class="post-info">&nbsp<a href="/tag/index.html#"></a></span>
  </div>
  <div class="post-content">
    <p>需要实现的功能列表：</p>

<ul>
<li>左右按钮切换</li>
<li>图片无限滚动</li>
<li>小按钮切换</li>
<li>动画函数</li>
<li>自动播放</li>
</ul>


<p>html和css代码如下：</p>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;UTF-8&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>焦点轮播图<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;style </span><span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="nt">&gt;</span>
        <span class="o">*</span><span class="p">{</span> <span class="k">margin</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span> <span class="k">padding</span><span class="o">:</span> <span class="m">0</span><span class="p">;</span> <span class="k">text-decoration</span><span class="o">:</span> <span class="k">none</span><span class="p">;}</span>
        <span class="nt">body</span> <span class="p">{</span> <span class="k">padding</span><span class="o">:</span> <span class="m">20px</span><span class="p">;}</span>
        <span class="nf">#container</span> <span class="p">{</span> <span class="k">width</span><span class="o">:</span> <span class="m">600px</span><span class="p">;</span> <span class="k">height</span><span class="o">:</span> <span class="m">400px</span><span class="p">;</span> <span class="k">border</span><span class="o">:</span> <span class="m">3px</span> <span class="k">solid</span> <span class="m">#333</span><span class="p">;</span> <span class="k">overflow</span><span class="o">:</span> <span class="k">hidden</span><span class="p">;</span> <span class="k">position</span><span class="o">:</span> <span class="k">relative</span><span class="p">;}</span>
        <span class="nf">#list</span> <span class="p">{</span> <span class="k">width</span><span class="o">:</span> <span class="m">4200px</span><span class="p">;</span> <span class="k">height</span><span class="o">:</span> <span class="m">400px</span><span class="p">;</span> <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span> <span class="k">z-index</span><span class="o">:</span> <span class="m">1</span><span class="p">;}</span>
        <span class="nf">#list</span> <span class="nt">img</span> <span class="p">{</span> <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;}</span>
        <span class="nf">#buttons</span> <span class="p">{</span> <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span> <span class="k">height</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span> <span class="k">width</span><span class="o">:</span> <span class="m">100px</span><span class="p">;</span> <span class="k">z-index</span><span class="o">:</span> <span class="m">2</span><span class="p">;</span> <span class="k">bottom</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span> <span class="k">left</span><span class="o">:</span> <span class="m">250px</span><span class="p">;}</span>
        <span class="nf">#buttons</span> <span class="nt">span</span> <span class="p">{</span> <span class="k">cursor</span><span class="o">:</span> <span class="k">pointer</span><span class="p">;</span> <span class="k">float</span><span class="o">:</span> <span class="k">left</span><span class="p">;</span> <span class="k">border</span><span class="o">:</span> <span class="m">1px</span> <span class="k">solid</span> <span class="m">#fff</span><span class="p">;</span> <span class="k">width</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span> <span class="k">height</span><span class="o">:</span> <span class="m">10px</span><span class="p">;</span> <span class="k">border</span><span class="o">-</span><span class="n">radius</span><span class="o">:</span> <span class="m">50%</span><span class="p">;</span> <span class="k">background</span><span class="o">:</span> <span class="m">#333</span><span class="p">;</span> <span class="k">margin-right</span><span class="o">:</span> <span class="m">5px</span><span class="p">;}</span>
        <span class="nf">#buttons</span> <span class="nc">.on</span> <span class="p">{</span>  <span class="k">background</span><span class="o">:</span> <span class="nb">orangered</span><span class="p">;}</span>
        <span class="nc">.arrow</span> <span class="p">{</span> <span class="k">cursor</span><span class="o">:</span> <span class="k">pointer</span><span class="p">;</span> <span class="k">display</span><span class="o">:</span> <span class="k">none</span><span class="p">;</span> <span class="k">line-height</span><span class="o">:</span> <span class="m">39px</span><span class="p">;</span> <span class="k">text-align</span><span class="o">:</span> <span class="k">center</span><span class="p">;</span> <span class="k">font-size</span><span class="o">:</span> <span class="m">36px</span><span class="p">;</span> <span class="k">font-weight</span><span class="o">:</span> <span class="k">bold</span><span class="p">;</span> <span class="k">width</span><span class="o">:</span> <span class="m">40px</span><span class="p">;</span> <span class="k">height</span><span class="o">:</span> <span class="m">40px</span><span class="p">;</span>  <span class="k">position</span><span class="o">:</span> <span class="k">absolute</span><span class="p">;</span> <span class="k">z-index</span><span class="o">:</span> <span class="m">2</span><span class="p">;</span> <span class="k">top</span><span class="o">:</span> <span class="m">180px</span><span class="p">;</span> <span class="k">background-color</span><span class="o">:</span> <span class="n">RGBA</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,.</span><span class="m">3</span><span class="p">);</span> <span class="k">color</span><span class="o">:</span> <span class="m">#fff</span><span class="p">;}</span>
        <span class="nc">.arrow</span><span class="nd">:hover</span> <span class="p">{</span> <span class="k">background-color</span><span class="o">:</span> <span class="n">RGBA</span><span class="p">(</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,</span><span class="m">0</span><span class="o">,.</span><span class="m">7</span><span class="p">);}</span>
        <span class="nf">#container</span><span class="nd">:hover</span> <span class="nc">.arrow</span> <span class="p">{</span> <span class="k">display</span><span class="o">:</span> <span class="k">block</span><span class="p">;}</span>
        <span class="nf">#prev</span> <span class="p">{</span> <span class="k">left</span><span class="o">:</span> <span class="m">20px</span><span class="p">;}</span>
        <span class="nf">#next</span> <span class="p">{</span> <span class="k">right</span><span class="o">:</span> <span class="m">20px</span><span class="p">;}</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;list&quot;</span> <span class="na">style=</span><span class="s">&quot;left: -600px;&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;img/5.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;img/1.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;1&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;img/2.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;2&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;img/3.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;3&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;img/4.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;4&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;img/5.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">&quot;img/1.jpg&quot;</span> <span class="na">alt=</span><span class="s">&quot;5&quot;</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;buttons&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">index=</span><span class="s">&quot;1&quot;</span> <span class="na">class=</span><span class="s">&quot;on&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">index=</span><span class="s">&quot;2&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">index=</span><span class="s">&quot;3&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">index=</span><span class="s">&quot;4&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
        <span class="nt">&lt;span</span> <span class="na">index=</span><span class="s">&quot;5&quot;</span><span class="nt">&gt;&lt;/span&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;javascript:;&quot;</span> <span class="na">id=</span><span class="s">&quot;prev&quot;</span> <span class="na">class=</span><span class="s">&quot;arrow&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;lt;</span><span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;javascript:;&quot;</span> <span class="na">id=</span><span class="s">&quot;next&quot;</span> <span class="na">class=</span><span class="s">&quot;arrow&quot;</span><span class="nt">&gt;</span><span class="ni">&amp;gt;</span><span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></div>




<!-- more -->


<p>下面依次按照功能列表完成Js代码</p>

<h3>左右按钮切换功能</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 先获取元素</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">buttons</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;buttons&#39;</span><span class="p">).</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prev&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;next&#39;</span><span class="p">);</span>

    <span class="c1">// 添加事件</span>
    <span class="nx">prev</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">animate</span><span class="p">(</span><span class="mi">600</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">next</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">animate</span><span class="p">(</span><span class="o">-</span><span class="mi">600</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">animate</span><span class="p">(</span><span class="nx">offset</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">offset</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
    <span class="p">}</span>
 
<span class="p">}</span></code></pre></div>


<p>这样就是实现了左右按钮动画切换效果，但是当切换到最左边或者最右边的时候，就会出现空白，所以还需要实现无限滚动效果。</p>

<h3>无限滚动</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 先获取元素</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">buttons</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;buttons&#39;</span><span class="p">).</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prev&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;next&#39;</span><span class="p">);</span>

    <span class="c1">// 添加事件</span>
    <span class="nx">prev</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">animate</span><span class="p">(</span><span class="mi">600</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">next</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">animate</span><span class="p">(</span><span class="o">-</span><span class="mi">600</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">animate</span><span class="p">(</span><span class="nx">offset</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">newLeft</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">;</span>
        <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">newLeft</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="c1">// 判断边界</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">newLeft</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">600</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">newLeft</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3000</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">newLeft</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">3000</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">newLeft</span> <span class="o">=</span> <span class="o">-</span><span class="mi">600</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
 
<span class="p">}</span></code></pre></div>


<h3>按钮跟随图片一起变化</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 先获取元素</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">buttons</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;buttons&#39;</span><span class="p">).</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prev&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;next&#39;</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="c1">// 添加事件</span>
    <span class="nx">prev</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="c1">//index不能小于1或者大于5</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>           
        <span class="p">}</span>
        <span class="nx">showButton</span><span class="p">();</span>
        <span class="nx">animate</span><span class="p">(</span><span class="mi">600</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">next</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>           
        <span class="p">}</span>
        <span class="nx">showButton</span><span class="p">();</span>
        <span class="nx">animate</span><span class="p">(</span><span class="o">-</span><span class="mi">600</span><span class="p">);</span>

    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">animate</span><span class="p">(</span><span class="nx">offset</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">newLeft</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">;</span>
        <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">newLeft</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">newLeft</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">600</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">newLeft</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3000</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">newLeft</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">3000</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">newLeft</span> <span class="o">=</span> <span class="o">-</span><span class="mi">600</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// 小按钮显示效果</span>
    <span class="kd">function</span> <span class="nx">showButton</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">==</span> <span class="s1">&#39;on&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>        
        <span class="p">}</span>
        <span class="nx">button</span><span class="p">[</span><span class="nx">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;on&#39;</span><span class="p">;</span>
    <span class="p">}</span>
 
<span class="p">}</span></code></pre></div>


<h3>小按钮切换</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 先获取元素</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">buttons</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;buttons&#39;</span><span class="p">).</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prev&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;next&#39;</span><span class="p">);</span>

    <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="c1">// 添加事件</span>
    <span class="nx">prev</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="c1">//index不能小于1或者大于5</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>           
        <span class="p">}</span>
        <span class="nx">showButton</span><span class="p">();</span>
        <span class="nx">animate</span><span class="p">(</span><span class="mi">600</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">next</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>           
        <span class="p">}</span>
        <span class="nx">showButton</span><span class="p">();</span>
        <span class="nx">animate</span><span class="p">(</span><span class="o">-</span><span class="mi">600</span><span class="p">);</span>

    <span class="p">}</span>

    <span class="c1">// 小按钮切换</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">==</span> <span class="s1">&#39;on&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span><span class="c1">//如果当前按钮时不进行操作</span>
            <span class="kd">var</span> <span class="nx">myIndex</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">));</span>
            <span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span> <span class="o">-</span><span class="mi">600</span> <span class="o">*</span> <span class="p">(</span><span class="nx">myIndex</span> <span class="o">-</span> <span class="nx">index</span><span class="p">);</span>
            <span class="nx">animate</span><span class="p">(</span><span class="nx">offset</span><span class="p">);</span> 
            <span class="nx">index</span> <span class="o">=</span> <span class="nx">myIndex</span><span class="p">;</span>
            <span class="nx">showButton</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">animate</span><span class="p">(</span><span class="nx">offset</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">newLeft</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">;</span>
        <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">newLeft</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">newLeft</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">600</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">newLeft</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3000</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">newLeft</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">3000</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">newLeft</span> <span class="o">=</span> <span class="o">-</span><span class="mi">600</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="c1">// 小按钮显示效果</span>
    <span class="kd">function</span> <span class="nx">showButton</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">==</span> <span class="s1">&#39;on&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>        
        <span class="p">}</span>
        <span class="nx">button</span><span class="p">[</span><span class="nx">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;on&#39;</span><span class="p">;</span>
    <span class="p">}</span>
 
<span class="p">}</span></code></pre></div>


<h3>动画函数</h3>

<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// 先获取元素</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">buttons</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;buttons&#39;</span><span class="p">).</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prev&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;next&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">animate</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

    <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

    <span class="c1">// 添加事件</span>
    <span class="nx">prev</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span><span class="c1">//index不能小于1或者大于5</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>           
        <span class="p">}</span>
        <span class="nx">showButton</span><span class="p">();</span>
        <span class="c1">// animate为falsel时才执行动画</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">animate</span><span class="p">){</span>
            <span class="nx">animate</span><span class="p">(</span><span class="mi">600</span><span class="p">);</span>
        <span class="p">}</span>
        
    <span class="p">}</span>
    <span class="nx">next</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>           
        <span class="p">}</span>
        <span class="nx">showButton</span><span class="p">();</span>
        <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">animate</span><span class="p">){</span>
            <span class="nx">animate</span><span class="p">(</span><span class="o">-</span><span class="mi">600</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="c1">// 小按钮切换</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">==</span> <span class="s1">&#39;on&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span><span class="c1">//如果当前按钮时不进行操作</span>
            <span class="kd">var</span> <span class="nx">myIndex</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">));</span>
            <span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span> <span class="o">-</span><span class="mi">600</span> <span class="o">*</span> <span class="p">(</span><span class="nx">myIndex</span> <span class="o">-</span> <span class="nx">index</span><span class="p">);</span>
            <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">animate</span><span class="p">){</span>
                <span class="nx">animate</span><span class="p">(</span><span class="nx">offset</span><span class="p">);</span>              
            <span class="p">}</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="nx">myIndex</span><span class="p">;</span>
            <span class="nx">showButton</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">animate</span><span class="p">(</span><span class="nx">offset</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">animated</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span><span class="c1">//动画时间</span>
        <span class="kd">var</span> <span class="nx">inteval</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span><span class="c1">//每次位移时间</span>
        <span class="kd">var</span> <span class="nx">speed</span> <span class="o">=</span> <span class="nx">offset</span><span class="o">/</span><span class="p">(</span><span class="nx">time</span><span class="o">/</span><span class="nx">inteval</span><span class="p">);</span><span class="c1">//每次位移距离</span>
        <span class="kd">var</span> <span class="nx">left</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">go</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(){</span>
            <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">speed</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">left</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">speed</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">left</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">speed</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
                <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">go</span><span class="p">,</span> <span class="nx">inteval</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">left</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">left</span><span class="o">&gt;-</span><span class="mi">200</span><span class="p">){</span>
                    <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="o">-</span><span class="mi">600</span> <span class="o">*</span> <span class="nx">len</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">left</span><span class="o">&lt;</span><span class="p">(</span><span class="o">-</span><span class="mi">600</span> <span class="o">*</span> <span class="nx">len</span><span class="p">))</span> <span class="p">{</span>
                    <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s1">&#39;-600px&#39;</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="nx">animated</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="nx">go</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="c1">// 小按钮显示效果</span>
    <span class="kd">function</span> <span class="nx">showButton</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">==</span> <span class="s1">&#39;on&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>        
        <span class="p">}</span>
        <span class="nx">button</span><span class="p">[</span><span class="nx">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;on&#39;</span><span class="p">;</span>
    <span class="p">}</span>
 
<span class="p">}</span></code></pre></div>


<h3>自动播放</h3>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">container</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;container&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">list</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;list&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">buttons</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;buttons&#39;</span><span class="p">).</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">prev</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;prev&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">next</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;next&#39;</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">animated</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">interval</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">timer</span><span class="p">;</span>


    <span class="kd">function</span> <span class="nx">animate</span> <span class="p">(</span><span class="nx">offset</span><span class="p">)</span> <span class="p">{</span>  
        <span class="k">if</span> <span class="p">(</span><span class="nx">offset</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">animated</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">time</span> <span class="o">=</span> <span class="mi">300</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">inteval</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">speed</span> <span class="o">=</span> <span class="nx">offset</span><span class="o">/</span><span class="p">(</span><span class="nx">time</span><span class="o">/</span><span class="nx">inteval</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">left</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">offset</span><span class="p">;</span>

        <span class="kd">var</span> <span class="nx">go</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(){</span>
            <span class="k">if</span> <span class="p">(</span> <span class="p">(</span><span class="nx">speed</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nx">left</span><span class="p">)</span> <span class="o">||</span> <span class="p">(</span><span class="nx">speed</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">left</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span><span class="p">)</span> <span class="o">+</span> <span class="nx">speed</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
                <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">go</span><span class="p">,</span> <span class="nx">inteval</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">else</span> <span class="p">{</span>
                <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="nx">left</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">left</span><span class="o">&gt;-</span><span class="mi">200</span><span class="p">){</span>
                    <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="o">-</span><span class="mi">600</span> <span class="o">*</span> <span class="nx">len</span> <span class="o">+</span> <span class="s1">&#39;px&#39;</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="k">if</span><span class="p">(</span><span class="nx">left</span><span class="o">&lt;</span><span class="p">(</span><span class="o">-</span><span class="mi">600</span> <span class="o">*</span> <span class="nx">len</span><span class="p">))</span> <span class="p">{</span>
                    <span class="nx">list</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">left</span> <span class="o">=</span> <span class="s1">&#39;-600px&#39;</span><span class="p">;</span>
                <span class="p">}</span>
                <span class="nx">animated</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="nx">go</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">showButton</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span> <span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span> <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">==</span> <span class="s1">&#39;on&#39;</span><span class="p">){</span>
                <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="nx">buttons</span><span class="p">[</span><span class="nx">index</span> <span class="o">-</span> <span class="mi">1</span><span class="p">].</span><span class="nx">className</span> <span class="o">=</span> <span class="s1">&#39;on&#39;</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">play</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">timer</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="nx">next</span><span class="p">.</span><span class="nx">onclick</span><span class="p">();</span>
            <span class="nx">play</span><span class="p">();</span>
        <span class="p">},</span> <span class="nx">interval</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="kd">function</span> <span class="nx">stop</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timer</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">next</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">animated</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="mi">5</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">animate</span><span class="p">(</span><span class="o">-</span><span class="mi">600</span><span class="p">);</span>
        <span class="nx">showButton</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="nx">prev</span><span class="p">.</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">animated</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">index</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">index</span> <span class="o">-=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="nx">animate</span><span class="p">(</span><span class="mi">600</span><span class="p">);</span>
        <span class="nx">showButton</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">buttons</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">buttons</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">onclick</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">animated</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">className</span> <span class="o">==</span> <span class="s1">&#39;on&#39;</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">return</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="kd">var</span> <span class="nx">myIndex</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">));</span>
            <span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span> <span class="o">-</span><span class="mi">600</span> <span class="o">*</span> <span class="p">(</span><span class="nx">myIndex</span> <span class="o">-</span> <span class="nx">index</span><span class="p">);</span>

            <span class="nx">animate</span><span class="p">(</span><span class="nx">offset</span><span class="p">);</span>
            <span class="nx">index</span> <span class="o">=</span> <span class="nx">myIndex</span><span class="p">;</span>
            <span class="nx">showButton</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="nx">container</span><span class="p">.</span><span class="nx">onmouseover</span> <span class="o">=</span> <span class="nx">stop</span><span class="p">;</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">onmouseout</span> <span class="o">=</span> <span class="nx">play</span><span class="p">;</span>

    <span class="nx">play</span><span class="p">();</span>

<span class="p">}</span></code></pre></div>



    
  </div>
</div>

<!-- <div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/ios/2015/05/02/iOS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E6%B7%BB%E5%8A%A0%E9%9F%B3%E6%95%88%E5%92%8C%E6%92%AD%E6%94%BE%E9%9F%B3%E4%B9%90/">
            Ios学习笔记——添加音效和播放音乐
            <small>02 May 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/ios/2015/04/01/iOS%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%E6%B7%BB%E5%8A%A0%E6%89%8B%E5%8A%BF%E6%93%8D%E4%BD%9C/">
            Ios学习笔记——添加手势操作
            <small>01 Apr 2015</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/%E7%94%B5%E5%BD%B1/2015/01/14/2014%E5%B9%B4%E6%88%91%E7%9C%8B%E8%BF%87%E6%9C%80%E5%A5%BD%E7%9A%8410%E9%83%A8%E7%94%B5%E5%BD%B1/">
            2014年我看过最好的10部电影
            <small>14 Jan 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div> -->


<div class="sub_pagination">
  
  
    <a class="sub_pagination-item newer" href="/%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/2015/01/04/Omnifocus2%E4%BD%BF%E7%94%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94%EF%BC%881%EF%BC%89/">上一篇&nbsp<i class="fa fa-chain"></i></a>
  
  
    <a class="sub_pagination-item newer" href="/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2014/12/19/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E2%80%94%E2%80%94CSS3%E5%8A%A8%E7%94%BB/">学习笔记——css3动画&nbsp<i class="fa fa-share"></i></a>
  
</div>


<!-- <div class="comments"> -->
<h2>Comments</h2>



<!-- Duoshuo Comment BEGIN -->  
<div id="comment">
    <div class="ds-thread" data-title="前端学习 图片轮播期"></div>
    <script type="text/javascript">
        var duoshuoQuery = {short_name:"soohu"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = '../../../../../public/js/duoshuo.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0]
                    || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
</div>


<!-- Duoshuo Comment END -->
      </div>
    </div>
    
    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <div class="footer">
  <p>  Copyright © 2015 - <a href="/">Steve Yang</a> - Powered by 
    <a href="http://jekyllrb.com/">Jekyll</a>.
    <a href="http://github.com/">Github</a>
  </p>
  <ul>
    <li><a href="/"><i class="fa fa-twitter fa-2x"></i></a></li>
    <li><a href="https://github.com/Haiming-Yang"><i class="fa fa-github fa-2x"></i></a></li>
    <!--<li><a href="https://www.linkedin.com/nhome/?trk="><i class="fa fa-linkedin fa-2x"></i></a></li>-->
  </ul>
</div>

    <!-- "The ending isn’t any more important than the moments leading to it." -Dr. Eva Rosalene, To The Moon -->
  </body>
</html>

